<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings version="1.0"
	xmlns="http://java.sun.com/xml/ns/persistence/orm" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd ">
	
    <named-query name="billrecord.find.by.bill">
        <query><![CDATA[
		SELECT br FROM BillRecord as br WHERE br.bill=:bill
		]]>
        </query>
    </named-query>
    <named-query name="bill.find.by.time">
        <query><![CDATA[
		SELECT bill FROM Bill as bill WHERE bill.rcreatedate >=:stime and bill.rcreatedate <=:etime
		]]>
        </query>
    </named-query>
    <named-query name="bill.find.group.operator.time">
        <query><![CDATA[
		SELECT max(bill.operator),sum(bill.pricenum) FROM Bill bill where bill.rcreatedate >=:stime and bill.rcreatedate <=:etime
                group by bill.operator.pid order by sum(bill.pricenum) desc
		]]>
        </query>
    </named-query>
    <named-query name="bill.find.group.user.time">
        <query><![CDATA[
		SELECT bill.username,sum(bill.pricenum) FROM Bill as bill where  bill.rcreatedate >=:stime and bill.rcreatedate <=:etime
                group by bill.username order by sum(bill.pricenum) desc
		]]>
        </query>
    </named-query>
    <named-query name="bill.find.group.item.time">
        <query><![CDATA[
		SELECT max(br.medicine),sum(br.bnumber) FROM BillRecord as br,Bill as bl where br.bill=bl and bl.rcreatedate >=:stime and bl.rcreatedate <=:etime
                group by br.medicine.mid order by sum(br.bnumber) desc
		]]>
        </query>
    </named-query>
</entity-mappings>