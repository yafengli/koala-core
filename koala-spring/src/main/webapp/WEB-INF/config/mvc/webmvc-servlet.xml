<?xml version="1.1" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">
    <bean id="urlMapping"
          class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="urlMap">
            <map>
                <entry key="/index.htm" value-ref="indexController"/>                
                <entry key="/main.htm" value-ref="flowController"/>
                <entry key="/sub.htm" value-ref="flowController"/>
                <entry key="/muli.htm" value-ref="paramMuliController"/>
                <entry key="/registroy.htm" value-ref="registryController"/>
            </map>
        </property>
        <property name="order" value="0"/>
    </bean>

    <bean id="jspviewResolver"
          class="org.springframework.web.servlet.view.InternalResourceViewResolver"
          p:prefix="/WEB-INF/pages/jsp/" p:suffix=".jsp" p:viewClass="org.springframework.web.servlet.view.JstlView"/>
    <!--  Controller -->
    <bean name="indexController"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController"
          p:viewName="index"/>   
    <bean id="flowController" class="org.springframework.webflow.mvc.servlet.FlowController">
        <property name="flowExecutor" ref="flowExecutor"/>
    </bean>
    <bean id="registryController" class="cn.demo.base.controller.RegistroyStudentController">
        <property name="formView" value="registroy"/>
        <property name="successView" value="success"/>
        <!--<property name="validator">
            <bean class="cn.demo.validation.ModelValidator"/>
        </property>-->
        <property name="validator" ref="validator"/>
    </bean>
    <bean id="paramMuliController"
          class="org.springframework.web.servlet.mvc.multiaction.MultiActionController">
        <property name="methodNameResolver">
            <bean
                    class="org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver">
                <property name="paramName" value="method"/>
            </bean>
        </property>
        <property name="delegate">
            <bean class="cn.demo.proxy.DemoDelegate"/>
        </property>
    </bean>
    <!-- Spring Web Flow -->
    <import resource="webflow-config.xml"/>
</beans>